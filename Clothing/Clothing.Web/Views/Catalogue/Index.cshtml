@model IEnumerable<Clothing.Web.DTOs.ProductDto>
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<div class="container">
    @foreach (var item in Model)
    {
        <div class="col-md-4 pad">
            <h2>@item.Name</h2>
            <a class="thumbnail" href="/Catalogue/Detail/@item.Id"><img alt="some image" src="~/ProductImages/@(item.ImagePaths.First())" /></a>
            <p>
                @item.Description
            </p>
            <p>
                @item.Price
            </p>
            @*<p><a id="addToCart" class="btn btn-default" data-id=@item.Id>Add to cart &raquo;</a></p>*@
            @Html.ActionLink("Detail", "Detail", "Catalogue", new { id = item.Id }, null)
        </div>
    }
</div>
<script>
    $(document).ready(function() {
        $('#addToCart').click(function() {
            var id = $(this).data('id');

            $.get('/Catalogue/AddItem?id='+id, function(data) {
                $('#counter').html(data);
            });
        });
    });
</script>
